<html>

<title>Guessing Game - Ghanithan</title>
<script>
async function loadFileAndPrintToConsole(url) {
  try {
    const response = await fetch(url);
    const data = await response.text();
    console.log(data);
    const encoded = encodeURIComponent(data);
    console.log(encoded);
    let uriCodeEmbedded = "https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&code=" + encoded;
    console.log(uriCodeEmbedded);
    loadIframe(uriCodeEmbedded);
  } catch (err) {
    console.error(err);
  }
}

function loadIframe(url){
	const iframe = document.createElement("iframe");
	iframe.style.display = "block";
	iframe.src = url;
	document.body.appendChild(iframe);
}
loadFileAndPrintToConsole('src/main.rs');


	
</script>
<body>
		<h1>Guessing Game - in RUST</h1>

</body>	

</html>
